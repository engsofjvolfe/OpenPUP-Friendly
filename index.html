<!-- 
OpenPUP - Protocolo Universal de Prompt  
Licença: CC BY-NC-SA 4.0 (docs) / AGPL-3.0 (software)
Autor: Jeanco Volfe 
Repositório: https://github.com/engsofjvolfe/OpenPUP.git 
-->

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OpenPUP - Protocolo Universal de Prompt</title>

  <!-- Favicon -->
  <link class="icon" rel="icon" type="image/ico" href="assets/favicon.ico">

  <!-- CSS -->
  <link rel="stylesheet" href="web/styles.css">
</head>
<body>
  <!-- Link de pular para conteúdo -->
  <a href="#main" class="sr-only-focusable" style="
    position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;
  ">Ir para o conteúdo principal</a>

  <header role="banner">
    <h1 id="page-title">OpenPUP — Protocolo Universal de Prompt</h1>
  </header>

  <div class="container" id="main" role="main" aria-labelledby="page-title">
    <!-- Painel Esquerdo -->
    <div class="left-panel" role="region" aria-label="Configuração do protocolo">
      <div class="actions img-and-btn">
        <img src="assets/banner.ico" alt="Banner do OpenPUP" class="img-left">
        <button id="reset-top" class="reset" type="button">Resetar</button>
      </div>

      <!-- Etapa 0 -->
      <section class="step" id="step0" aria-labelledby="step0-title">
        <h2 id="step0-title">
          Modo e Idioma <span class="badge-human">Humano</span>
          <button class="info" type="button" aria-label="Ajuda: Modo e Idioma" title="Aqui você define Idioma, Modo (Rápido/Detalhado), Público-alvo, Limites e Contexto da conversa. Esses parâmetros moldam tom e profundidade da resposta.">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon-info" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <circle cx="12" cy="12" r="10" fill="#000"/>
              <line x1="12" y1="8" x2="12.01" y2="8" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              <line x1="12" y1="12" x2="12" y2="16" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </h2>
        
        <div class="input-group">
          <label for="modo-fast">Modo</label>
          <div class="radio-group" role="radiogroup" aria-label="Seleção de modo">
            <label><input id="modo-fast" type="radio" name="modo" value="FAST" checked> Rápido</label>
            <label><input id="modo-thorough" type="radio" name="modo" value="THOROUGH"> Detalhado</label>
          </div>
        </div>

        <div class="input-group">
          <label for="idioma_input">Idioma</label>
          <input
            type="text"
            id="idioma_input"
            name="idioma_input"
            placeholder="Digite o idioma ou código ISO (ex: pt, en)"
            autocomplete="off"
            aria-autocomplete="list"
            aria-controls="idioma-suggestions"
            aria-expanded="false"
            aria-describedby="idioma-help"
          />
          <div id="idioma-help" class="sr-only">Digite para ver sugestões de idiomas</div>
          <div id="idioma-suggestions" class="suggestions" role="listbox" aria-label="Sugestões de idioma"></div>
          <input type="hidden" name="idioma" value="pt" />
        </div>

        <div class="input-group">
          <label for="publico">Público-alvo</label>
          <select id="publico" name="publico">
            <option value="leigo">Leigo</option>
            <option value="intermediario">Intermediário</option>
            <option value="tecnico" selected>Técnico</option>
          </select>
        </div>

        <div class="input-group">
          <label for="overflow">Overflow (o que fazer se passar do limite de tokens)</label>
          <select id="overflow" name="overflow">
            <option value="resumir_dados_nao_criticos" selected>resumir_dados_nao_criticos</option>
            <option value="cortar_excesso">cortar_excesso</option>
          </select>
        </div>

        <div class="input-group">
          <label for="contexto">Contexto da conversa</label>
          <select id="contexto" name="contexto">
            <option value="primeira_vez" selected>primeira_vez</option>
            <option value="continuidade">continuidade</option>
          </select>
        </div>
      </section>

      <!-- Etapa 1 -->
      <section class="step" id="step1" aria-labelledby="step1-title">
        <h2 id="step1-title">
          Tarefa <span class="badge-human">Humano</span>
          <button class="info" type="button" aria-label="Ajuda: Tarefa" title="Defina objetivo, formato de saída (Markdown, JSON, lista, tabela, etc) e tamanho-alvo.">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon-info" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <circle cx="12" cy="12" r="10" fill="#000"/>
              <line x1="12" y1="8" x2="12.01" y2="8" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              <line x1="12" y1="12" x2="12" y2="16" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </h2>

        <div class="input-group">
          <label for="objetivo">Objetivo</label>
          <textarea id="objetivo" name="objetivo" placeholder="Ex.: gerar resumo sobre sustentabilidade"></textarea>
        </div>

        <div class="input-group">
          <label for="formato">Formato de saída</label>
          <input id="formato" name="formato" list="formatos" class="language-input" placeholder="Escolha ou digite um formato">
          <datalist id="formatos">
            <option value="Markdown">
            <option value="Tabela">
            <option value="JSON">
            <option value="Lista">
            <option value="Texto corrido">
          </datalist>
        </div>

        <div class="input-group">
          <label for="tamanho">Tamanho-alvo</label>
          <input id="tamanho" name="tamanho" type="text" placeholder="Ex.: 200–300 palavras"/>
        </div>
      </section>

      <!-- Etapa 2 -->
      <section class="step" id="step2" aria-labelledby="step2-title">
        <h2 id="step2-title">
          Critérios de Priorização <span class="badge-human">Humano</span>
          <button class="info" type="button" aria-label="Ajuda: Critérios de Priorização" title="Defina o que é obrigatório, desejável ou deve ser evitado. Use códigos M, S, A, D e pesos entre -1.0 e 1.0.">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon-info" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <circle cx="12" cy="12" r="10" fill="#000"/>
              <line x1="12" y1="8" x2="12.01" y2="8" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              <line x1="12" y1="12" x2="12" y2="16" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </h2>
        
        <div class="card info-box" role="note" aria-label="Legenda e Escala de Pesos">
          <strong>Legenda dos Códigos:</strong>
          <ul>
            <li><strong>M</strong> = Must (obrigatório)</li>
            <li><strong>S</strong> = Should (desejável)</li>
            <li><strong>A</strong> = Avoid (evitar)</li>
            <li><strong>D</strong> = Data rules (uso de dados)</li>
          </ul>
          <strong>Escala de Pesos:</strong>
          <ul>
            <li>1.0 = prioridade máxima</li>
            <li>0.5 = desejável</li>
            <li>-1.0 = deve ser evitado</li>
            <li>Outros valores: nuances (0.8, -0.3...)</li>
          </ul>
        </div>

        <div class="card">
          <table id="criterios-table">
            <caption class="sr-only">Tabela de critérios adicionados</caption>
            <thead>
              <tr>
                <th scope="col">Código</th>
                <th scope="col">Peso</th>
                <th scope="col">Descrição do Critério</th>
                <th scope="col">Ações</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          
          <div class="criterio-controls" role="group" aria-label="Adicionar novo critério">
            <label class="sr-only" for="crit-codigo">Código</label>
            <input id="crit-codigo" type="text" placeholder="Ex: M, S, A, D" aria-describedby="crit-ajuda-codigo" />
            <div id="crit-ajuda-codigo" class="sr-only">Digite apenas M, S, A ou D</div>

            <label class="sr-only" for="crit-peso">Peso</label>
            <input id="crit-peso" type="number" step="0.1" min="-1.0" max="1.0" value="1.0"/>

            <label class="sr-only" for="crit-desc">Descrição</label>
            <input id="crit-desc" type="text" placeholder="Ex: limite de 300 palavras, usar 3 exemplos"/>

            <button id="add-criterio" type="button">Adicionar</button>
          </div>
        </div>

        <div class="card examples" aria-label="Exemplos de critérios">
          <strong>Exemplos:</strong>
          <div class="example-item"><code>M1: até 300 palavras</code> (peso: 1.0)</div>
          <div class="example-item"><code>M2: usar palavras simples</code> (peso: 0.7)</div>
          <div class="example-item"><code>S1: 3 exemplos práticos</code> (peso: 0.5)</div>
          <div class="example-item"><code>A1: jargão sem explicar</code> (peso: -1.0)</div>
          <div class="example-item"><code>D1: usar dados oficiais primeiro</code> (peso: 0.8)</div>
        </div>
      </section>

      <!-- Etapa 3 -->
      <section class="step" id="step3" aria-labelledby="step3-title">
        <h2 id="step3-title">
          Dados <span class="badge-human">Humano</span>
          <button class="info" type="button" aria-label="Ajuda: Dados" title="Forneça apenas as informações sobre os dados que a IA pode usar">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon-info" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <circle cx="12" cy="12" r="10" fill="#000"/>
              <line x1="12" y1="8" x2="12.01" y2="8" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              <line x1="12" y1="12" x2="12" y2="16" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </h2>
        <div class="input-group">
          <label for="dados">Dados a serem usados</label>
          <textarea id="dados" name="dados" placeholder="Descreva o que a IA pode usar como dados (fontes, textos, períodos, códigos, etc)"></textarea>
        </div>
      </section>

      <!-- Etapa 4 -->
      <section class="step" id="step4" aria-labelledby="step4-title">
        <h2 id="step4-title">
          Restrições e Condições <span class="badge-human">Humano</span>
          <button class="info" type="button" aria-label="Ajuda: Restrições e Condições" title="Defina regras como: uso permitido de fontes externas, limite de perguntas de esclarecimento, escopos proibidos e outras condições específicas.">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon-info" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <circle cx="12" cy="12" r="10" fill="#000"/>
              <line x1="12" y1="8" x2="12.01" y2="8" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              <line x1="12" y1="12" x2="12" y2="16" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </h2>
        <div class="input-group">
          <label for="external_sources">Fontes externas</label>
          <select id="external_sources" name="external_sources">
            <option value="permitido" selected>Sim, permitido</option>
            <option value="negado">Não, apenas os dados fornecidos</option>
          </select>
        </div>
        <div class="input-group">
          <label for="max_questions">Máx. perguntas de esclarecimento</label>
          <input id="max_questions" type="number" name="max_questions" value="3" min="0"/>
        </div>
        <div class="input-group">
          <label for="if_no_response">Se não houver resposta</label>
          <select id="if_no_response" name="if_no_response">
            <option value="assume" selected>Assumir decisão melhor</option>
            <option value="custom">Seguir instrução personalizada</option>
          </select>
        </div>
        <div class="input-group">
          <label for="scope_limits">Limites de escopo</label>
          <textarea id="scope_limits" name="scope_limits" placeholder="Ex: não prescrever medicamentos&#10;Ex: não citar marcas"></textarea>
        </div>
        <div class="input-group">
          <label for="tools_required">Ferramentas/formatos obrigatórios</label>
          <textarea id="tools_required" name="tools_required" placeholder="Ex: Tabela com campos X,Y,Z..."></textarea>
        </div>
        <div class="input-group">
          <label for="other_conditions">Outras condições</label>
          <textarea id="other_conditions" name="other_conditions" placeholder="Ex: não usar nada fora dos 'Dados'"></textarea>
        </div>
      </section>

      <!-- Etapa 7 -->
      <section class="step" id="step7" aria-labelledby="step7-title">
        <h2 id="step7-title">
          Auto-checagem (customizada) <span class="badge-human">Humano</span>
          <button class="info" type="button" aria-label="Ajuda: Auto-checagem" title="Adicione critérios extras de checagem antes da entrega, ex.: tom inspirador, fonte confiável.">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon-info" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <circle cx="12" cy="12" r="10" fill="#000"/>
              <line x1="12" y1="8" x2="12.01" y2="8" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
              <line x1="12" y1="12" x2="12" y2="16" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </h2>
        <div class="input-group">
          <label for="custom_checklist">Itens customizados (um por linha)</label>
          <textarea id="custom_checklist" name="custom_checklist" placeholder="Tom inspirador mantido&#10;Fonte confiável incluída"></textarea>
        </div>
      </section>
          
      <div class="actions" role="group" aria-label="Ações principais">
        <button class="generate" type="button">Gerar Prompt</button>
        <button class="reset" type="button">Resetar</button>
      </div>
    </div>

    <!-- Modal de confirmação -->
    <div id="confirmation-modal" class="modal" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="confirm-title">
      <div class="modal-content">
        <h2 id="confirm-title">Confirmação dos dados</h2>
        <div id="modal-summary"></div>
        <div class="actions">
          <button id="confirm-generate" type="button">Confirmar e Gerar</button>
          <button id="cancel-modal" type="button">Cancelar</button>
        </div>
      </div>
    </div>

    <!-- Painel Direito -->
    <div class="right-panel" role="region" aria-label="Pré-visualização do protocolo">
      <h2 id="preview-title">Pré-visualização do Protocolo</h2>
      <div id="copy-and-feedback">
        <button id="copy-prompt" type="button" aria-describedby="copy-feedback">Copiar Prompt</button>
        <span id="copy-feedback" role="status" aria-live="polite">Prompt copiado para a área de transferência</span>
      </div>

      <pre id="protocol-preview" aria-labelledby="preview-title" aria-live="polite">
    <!-- INÍCIO DO PROMPT OPENPUP -->
    <!-- A pré-visualização será gerada aqui -->
      </pre>
    </div>
  </div>

  <footer role="contentinfo">
    <span>OpenPUP — Licenças: CC BY-NC-SA 4.0 (docs), AGPL-3.0 (software)</span>
  </footer>

  <!-- JS -->
  <script src="web/script.js" defer></script>
</body>
</html>

<!-- 
Este projeto é licenciado sob:
- Documentação: CC BY-NC-SA 4.0
- Implementações em software: AGPL-3.0 
-->
